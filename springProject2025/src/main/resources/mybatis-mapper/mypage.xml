<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	<mapper namespace="com.example.springProject2025.mapper.MypageMapper">
	

	
		<!-- 나의 상품 문의내역 전체 개수 조회 -->
		<select id="selectMyInquiryListCnt" parameterType="hashmap" resultType="int">
		    SELECT COUNT(*)
		    FROM PRODUCT_INQUIRY 
		    WHERE USER_ID = #{sessionId}

		</select>
		
		<!-- 나의 상품 문의내역 리스트 불러오기 -->
		<select id="selectMyInquiryList" parameterType="hashmap" resultType="com.example.springProject2025.model.MyInquiry">
		    SELECT *
		    FROM (
		        SELECT SUB.*, ROWNUM AS RN
		        FROM (
		            SELECT I.*
		            FROM PRODUCT_INQUIRY I
		            WHERE USER_ID = #{sessionId}
		        ) SUB
		    ) 
		    WHERE RN > #{startIndex} AND RN &lt;= #{startIndex} + #{pageSize}
		</select>
	
	
		<!-- 나의 상품 문의내역 1개 불러오기 -->
		<select id="selectMyInquiry" parameterType="hashmap" resultType="com.example.springProject2025.model.MyInquiry">
			SELECT *
			FROM PRODUCT_INQUIRY
			WHERE 1=1
			
			AND INQUIRY_NO = #{inquiryNo}
		</select>
		
	
	
	</mapper>
