<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
	<mapper namespace="com.example.springProject2025.mapper.AdminMapper">
	
		<!-- 상품 문의내역 리스트 불러오기 -->
		<select id="selectInquiryList" parameterType="hashmap" resultType="com.example.springProject2025.model.Admin">
			SELECT I.*, U.NAME
			FROM PRODUCT_INQUIRY I
			INNER JOIN USERS U ON I.USER_ID = U.USER_ID
		</select>
		
		<!-- 상품 문의내역 상세보기 -->
		<select id="selectInquiry" parameterType="hashmap" resultType="com.example.springProject2025.model.Admin">
			SELECT I.*, U.NAME
			FROM PRODUCT_INQUIRY I
			INNER JOIN USERS U ON I.USER_ID = U.USER_ID
			WHERE INQUIRY_NO = #{inquiryNo}
		</select>
		
		<!-- 상품 문의내역 관리자 답변 등록/수정 -->
		<update id="updateInquiryAnswer" parameterType="hashmap">
			UPDATE PRODUCT_INQUIRY
			SET 
				ANSWER = #{answer},
				ANSWER_DATE = SYSDATE,
				STATUS = 'Y'
			WHERE 
				INQUIRY_NO = #{inquiryNo}
		</update>
	</mapper>
